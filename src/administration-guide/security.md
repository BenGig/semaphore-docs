# Security

## Database encryption

Sensitive data is stored in the database, in an encrypted form. You should set the configuration option `access_key_encryption` in configuration file to enable Access Keys encryption. It must be generated by command:

```bash
head -c32 /dev/urandom | base64
```

----

## Encrypted connection

For security reasons, Semaphore **should not be used** over unencrypted HTTP!

Why use encrypted connections? See: [Article](https://www.cloudflare.com/learning/ssl/why-use-https/)

Options you have:

* VPN
* SSL


## VPN

You can use a Client-to-Site VPN, that terminates on the Semaphore server, to encrypt & secure the connection.

## SSL

Semaphore supports SSL/TLS starting from v2.12.

Else you can use a reverse proxy in front of Semaphore to serve secure connections. For example:

* [NGINX](./security/nginx.md)
* [Apache](./security/apache.md)
 

### Self-signed SSL certificate


```
openssl req -x509 -newkey rsa:4096 \
    -keyout key.pem -out cert.pem \
    -sha256 -days 3650 -nodes \
    -subj "/C=US/ST=California/L=San Francisco/O=CompanyName/OU=DevOps/CN=example.com"
```

### Let's Encrypt SSL certificate

You can use [Certbot](https://certbot.eff.org/) to generate and automatically renew a Let's Encrypt SSL certificate.

### Others

If you want to use any other reverse proxy - make sure to also forward websocket connections on the `/api/ws` route!
